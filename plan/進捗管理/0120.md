# 進捗管理レポート (2026/01/20)

## 1. 実装済み機能・画面構成

### 1.1. パブリック画面 (一般ユーザー向け)

- [x] **P-01 トップページ** (`src/P01_toppage`)
- [x] **P-02 記事詳細ページ** (`src/P02_article`)
- [x] **P-03 記事一覧（検索結果）** (`src/P03_search`)
- [x] **P-04 プロジェクト一覧・詳細** (`src/P04_project`)
  - `siteConfig` による文言・画像管理の実装
- [x] **P-05 クリエイター一覧・詳細** (`src/P05_creator`)
  - `siteConfig` による文言・画像管理の実装

### 1.2. 管理画面 (運営・執筆者向け)

- [x] **A-01 ログイン画面** (`src/A01_login`)
- [x] **A-02 ダッシュボード** (`src/A02_dashboard`)
- [x] **A-03 記事管理（一覧）** (`src/A03_article_management`)
  - 記事およびコメントの管理機能統合
  - ユーザロールに基づくデフォルトフィルタリング機能の実装
- [x] **A-04 記事エディター** (`src/A04_editor`)
  - 既存記事の読み込み機能 (`?id={id}`) の実装
  - API連携のパスパラメータ形式修正
- [x] **A-05 分類・マスタ管理** (`src/A05_master_management`)
- [x] **A-06 クリエイター管理** (`src/A06_creator_management`)
- [x] **A-07 アカウント管理** (`src/A07_account_management`)

---

## 2. 本日の主な対応内容 (01/20)

### 2.1. バグ修正・機能改善

- **ヘッダー画像のパス修正**: `Header.tsx` におけるロゴ画像の参照パスを `src/mediasrc` (または `src/R02_mediasrc` ) からの import 形式に修正。
- **エディターのデータ読み込み実装**:
  - `A04_editor` にて URL パラメータ `id` が存在する場合に記事データを fetch する処理を実装。
  - API パスを `/api/articles?id=...` から `/articles/{id}` (MSW定義に合わせて `/api/articles/{id}` または自動プレフィックス) へ修正し、Markdown 本文を含む完全なデータを取得できるように改善。
- **管理画面ヘッダーのナビゲーション改善**:
  - エディター使用時 (`/editor`) に「記事・コメント管理」タブをアクティブ状態として表示するよう変更。
- **記事管理・コメント管理の動線修正**:
  - コメントテーブル内の「対象記事」リンクを正しいクエリパラメータ形式 (`/article?id=X`) に修正以。
- **フィルタリング機能の強化**:
  - `A03_article_management` ロード時に、ログインユーザーの権限に応じて初期フィルタを設定。
    - **Admin**: ステータス「下書き」をデフォルト表示。
    - **User**: 執筆者フィルターを「自分」にデフォルト設定。
    - **コメントタブ**: Admin は「承認待ち」、User は「承認済み」をデフォルト表示に設定。

### 2.2. コンフィグレーション管理の導入

- **`src/R01_config/siteConfig.ts` の拡張**:
  - プロジェクト一覧・詳細、クリエイター一覧・詳細ページで使用する固定テキストや画像を `siteConfig` に集約。
  - 各コンポーネント (`ProjectListApp`, `ProjectDetailApp`, `CreatorList`, `CreatorDetail`) を修正し、ハードコードを排除して Config ファイルを参照するように変更。

---

## 3. 今後の課題・予定

- **A-02 ダッシュボードの実装**: 現在未着手のため、要件定義に基づき実装が必要。
- **認証周りの実運用化**: 現在は Mock データ (`login_handler.ts`) を使用しているため、バックエンド API との接続検証が必要。
- **画像アップロード機能**: エディター内での画像アップロードの実装（現在は URL 指定のみの可能性あり）。
