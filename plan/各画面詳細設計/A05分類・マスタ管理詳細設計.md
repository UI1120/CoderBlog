# A05 分類・マスタ管理詳細設計

## 1. 画面概要

システム内で使用されるカテゴリ、タグ、プロジェクト情報の管理（作成・編集・削除）を行う。

## 2. 必要なフォームデータ

### 2.1. カテゴリ (Categories)

- `category_name`: カテゴリ名

### 2.2. タグ (Tags)

- `tag_name`: タグ名

### 2.3. プロジェクト (Projects)

- `project_name`: プロジェクト名
- `description`: プロジェクト説明文
- `category_id`: 所属カテゴリID
- `default_thumbnail_file`: デフォルトサムネイル画像（任意）

## 3. I/O（API フォーマット）

### 3.1. カテゴリ (Categories)

#### 一覧取得

- **メソッド**: `GET`
- **エンドポイント**: `/api/admin/categories`
- **Response JSON**:
  ```json
  {
    "categories": [
      { "category_id": 1, "category_name": "ロボット" },
      { "category_id": 2, "category_name": "Web開発" }
    ]
  }
  ```

#### 登録

- **メソッド**: `POST`
- **エンドポイント**: `/api/admin/categories`
- **Request JSON**:
  ```json
  { "category_name": "インフラ" }
  ```

#### 更新

- **メソッド**: `POST`
- **エンドポイント**: `/api/admin/categories/{id}`
- **Request JSON**:
  ```json
  { "category_name": "インフラ（クラウド）" }
  ```

#### 削除

- **メソッド**: `POST`
- **エンドポイント**: `/api/admin/categories/{id}`
- **Request JSON**: `{"action": "delete"}`

---

### 3.2. タグ (Tags)

#### 一覧取得

- **メソッド**: `GET`
- **エンドポイント**: `/api/admin/tags`
- **Response JSON**:
  ```json
  {
    "tags": [
      { "tag_id": 1, "tag_name": "React" },
      { "tag_id": 2, "tag_name": "TypeScript" }
    ]
  }
  ```

#### 登録

- **メソッド**: `POST`
- **エンドポイント**: `/api/admin/tags`
- **Request JSON**:
  ```json
  { "tag_name": "Next.js" }
  ```

#### 更新

- **メソッド**: `POST`
- **エンドポイント**: `/api/admin/tags/{id}`
- **Request JSON**:
  ```json
  { "tag_name": "Next.js (App Router)" }
  ```

#### 削除

- **メソッド**: `POST`
- **エンドポイント**: `/api/admin/tags/{id}`
- **Request JSON**: `{"action": "delete"}`

---

### 3.3. プロジェクト (Projects)

#### 一覧取得

- **メソッド**: `GET`
- **エンドポイント**: `/api/admin/projects`
- **Response JSON**:
  ```json
  {
    "projects": [
      {
        "project_id": 1,
        "project_name": "CoderBlog",
        "description": "サークルブログ開発プロジェクト",
        "category_id": 2,
        "category_name": "Web開発",
        "default_thumbnail_url": "https://..."
      }
    ]
  }
  ```

#### 登録

- **メソッド**: `POST`
- **エンドポイント**: `/api/admin/projects`
- **Request JSON**:
  ```json
  {
    "project_name": "二足歩行ロボ",
    "description": "オリジナルの二足歩行ロボット開発",
    "category_id": 1,
    "default_thumbnail_url": "https://..."
  }
  ```

#### 更新

- **メソッド**: `POST`
- **エンドポイント**: `/api/admin/projects/{id}`
- **Request JSON**:
  ```json
  {
    "project_name": "二足歩行ロボ Ver.2",
    "description": "センサーを追加した改良版",
    "category_id": 1,
    "default_thumbnail_url": "https://..."
  }
  ```

#### 削除

- **メソッド**: `POST`
- **エンドポイント**: `/api/admin/projects/{id}`
- **Request JSON**: `{"action": "delete"}`
