# P02 記事詳細詳細設計

## 1. 画面概要

個別の記事本文、メタ情報（執筆者、カテゴリ等）、およびコメントセクションを表示する。

## 2. 必要な表示データ

- **記事詳細**: タイトル、本文（HTML/Markdown）、執筆者情報、公開日、サムネイル等。
- **コメント**: 記事に紐づく承認済みコメントの一覧。
- **関連記事**: 現在の記事に関連する他の記事（カテゴリやタグベース）。

## 3. I/O (API フォーマット)

### 3.1. 記事詳細取得

- **メソッド**: `GET`
- **エンドポイント**: `/api/articles/{id}`
- **Response Example**:

```json
{
  "id": 101,
  "title": "React Hooks完全ガイド",
  "content": "<h2>Introduction</h2><p>...</p>",
  "summary": "Hooksの仕組みを解説",
  "thumbnail": "https://...",
  "published_date": "2026-01-15",
  "category": "Frontend",
  "category_id": 2,
  "project": "Tech Blog",
  "project_id": 1,
  "tags": ["React", "JavaScript"],
  "writer": "Sato",
  "writer_id": 5,
  "writer_icon": "https://...",
  "good_count": 42
}
```

### 3.2. 記事へのいいね（Good）

- **メソッド**: `POST`
- **エンドポイント**: `/api/articles/{id}/like`
- **Request Body**: Empty or `{}`
- **Response Example**:

```json
{
  "status": "success",
  "good_count": 43
}
```

### 3.3. 記事ごとのコメント取得

- **メソッド**: `GET`
- **エンドポイント**: `/api/articles/{id}/comments`

※承認済み（Status: approved）のコメントのみを返す想定。

### 3.4. コメント投稿

- **メソッド**: `POST`
- **エンドポイント**: `/api/articles/{id}/comments`
- **Request Body**:

```json
{
  "guest_name": "Reader B",
  "content": "Nice post!",
  "article_id": 101
}
```

- **Response Example**:

```json
{
  "status": "success",
  "message": "Comment submitted for approval",
  "comment": { ... }
}
```

```json
[
  {
    "comment_id": 1,
    "guest_name": "Reader A",
    "content": "Great article!",
    "created_at": "2026-01-16T10:00:00Z"
  }
]
```
