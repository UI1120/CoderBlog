# A02 ダッシュボード詳細設計

## 1. 画面概要

運用状況（PV、いいね数）の概観、最新のドラフト記事、承認待ちのコメントを表示する。

## 2. 必要な表示データ

### 2.1. 統計情報(全ユーザが確認可能)

- サイト総記事数
- サイト総PV数
- サイト総いいね数
- ユーザ執筆記事数
- ユーザ執筆総PV数
- ユーザ執筆総いいね数

### 2.4. グラフデータ(全ユーザが確認可能)

- サイト総記事数、総PV数、総いいね数の推移
- 期間: 直近1年間
- 粒度: 1週間ごとの合計/積算値

### 2.2. ドラフト記事(管理者のみ)

- 公開前のドラフト記事数

### 2.3. コメント(管理者のみ)

- 承認待ちコメント数

## 3. I/O（API フォーマット）

### 3.1. 統計・概観情報取得

- **メソッド**: `GET`
- **エンドポイント**: `/api/admin/dashboard/status`

#### Response JSON

```json
{
  "stats": {
    "site_total_articles": 150,
    "site_total_pv": 12500,
    "site_total_likes": 450,
    "user_total_articles": 12,
    "user_total_pv": 1200,
    "user_total_likes": 45,
    "draft_articles_count": 5,
    "pending_comments_count": 3
  },
  "draft_articles": [
    {
      "article_id": 101,
      "title": "次期ロボット開発計画について",
      "updated_at": "2026-01-15T10:00:00Z"
    },
    {
      "article_id": 102,
      "title": "Reactの最新機能レビュー",
      "updated_at": "2026-01-16T14:30:00Z"
    }
  ],
  "pending_comments": [
    {
      "comment_id": 501,
      "article_id": 98,
      "article_title": "Unity入門",
      "guest_name": "匿名ユーザー",
      "content": "非常に参考になりました！",
      "created_at": "2026-01-17T09:15:00Z"
    }
  ],
  "graph_data": [
    {
      "week_start": "2025-01-01",
      "articles": 2,
      "pv": 150,
      "likes": 10,
      "your_articles": 1,
      "your_pv": 100,
      "your_likes": 5
    },
    {
      "week_start": "2025-01-08",
      "articles": 3,
      "pv": 200,
      "likes": 15,
      "your_articles": 1,
      "your_pv": 100,
      "your_likes": 5
    }
  ]
}
```
