# 📺 画面・機能一覧

本ドメインにおけるユーザーおよび運営者が利用する画面と、それぞれの機能、イベント遷移、I/O（入出力）を定義する。

## 1. 画面一覧

### 1.1. 一般ユーザー向け（パブリック）

| ID | 画面名 | 役割 | 主要機能 |
| :--- | :--- | :--- | :--- |
| P-01 | **トップページ** | ブログの入り口。最新記事や注目情報の提示。 | 新着記事一覧表示、カテゴリ・タグ絞り込み、キーワード検索、お知らせ表示、プロジェクトハイライト。 |
| P-02 | **記事詳細ページ** | 記事本文の閲覧。 | 本文表示（Markdown）、目次自動生成、いいね投稿、コメント投稿・閲覧、関連記事表示、SNSシェア。 |
| P-03 | **記事一覧（検索結果）** | 条件に合致する記事の羅列。 | カテゴリ別、タグ別、プロジェクト別、執筆者（個人・グループ）別、キーワード検索結果の表示。 |
| P-04 | **プロジェクト一覧・詳細** | サークルのプロジェクト単位での紹介。 | プロジェクト概要表示、そのプロジェクトに紐づく記事一覧。 |
| P-05 | **クリエイター一覧・詳細** | 執筆者（個人・グループ）の紹介。 | プロフィール表示、所属メンバー（グループの場合）、執筆記事一覧。 |

### 1.2. 運営・執筆者向け（管理画面）

| ID | 画面名 | 役割 | 主要機能 |
| :--- | :--- | :--- | :--- |
| A-01 | **ログイン画面** | 管理画面への認証。 | ID/パスワード入力、ログイン実行。 |
| A-02 | **ダッシュボード** | 運用状況の概観。 | 簡易PV・いいね統計、最新のドラフト記事、最近のコメント。 |
| A-03 | **記事管理（一覧）** | 記事のステータス管理。 | 全記事の検索・フィルタリング、ステータス変更（Admin）、編集・削除・プレビューへの遷移。 |
| A-04 | **記事エディター** | 記事の執筆・編集。 | Markdown記述、リアルタイムプレビュー、メタデータ（カテゴリ・タグ等）設定、画像アップロード・挿入。 |
| A-05 | **分類・マスタ管理** | カテゴリ・タグ・プロジェクトの管理。 | カテゴリ・タグ・プロジェクトの作成・編集・削除。 |
| A-06 | **クリエイター管理** | 執筆者情報の管理。 | 個人・グループクリエイターの登録、プロフィール編集、グループメンバーシップ管理。 |
| A-07 | **アカウント管理** | ログイン権限の管理。 | アカウント作成、ロール設定（Admin/Creator）、BAN・パスワード変更（Admin権限必須）。 |

---

## 2. イベント管理（ページ遷移・アクション）

### 2.1. 一般ユーザーの遷移・アクション
- **記事閲覧**: トップ画面(`P-01`)または一覧画面(`P-03`)の記事カードをクリック → 記事詳細(`P-02`)。
- **絞り込み**: 共通ヘッダーまたは記事詳細のカテゴリ・タグ名をクリック → 指定条件の`P-03`へ遷移。
- **いいね実行**: 記事詳細(`P-02`)の「いいね」ボタンをクリック → API経由で非同期カウントアップ。
- **コメント投稿**: 記事詳細(`P-02`)のフォーム入力・送信 → 確認後、画面に反映（要承認設定）。

### 2.2. 運営者の遷移・アクション
- **ログイン**: ログイン画面(`A-01`)で認証成功 → ダッシュボード(`A-02`)へ遷移。
- **執筆開始**: 記事管理(`A-03`)で「新規作成」をクリック → エディター(`A-04`)へ遷移。
- **公開申請**: エディター(`A-04`)で内容保存 → 記事管理(`A-03`)にてAdminがステータスを `published` または `scheduled` へ変更。
- **ログアウト**: 各管理画面のログアウトボタンをクリック → セッション破棄し `A-01` へ戻る。

---

## 3. I/O 一覧（データとフォーマット）

### 3.1. 記事関連 (Input/Output)

| データ項目 | 方向 | フォーマット | 備考 |
| :--- | :--- | :--- | :--- |
| 記事タイトル | I/O | string (max 255) | |
| 記事本文 | I/O | Markdown (Text) | 保存時はストレージパス。 |
| 記事サマリー | I/O | string (max 500) | メタディスクリプション等。 |
| カテゴリID | I/O | integer (FK) | 単数選択。 |
| タグIDリスト | I/O | array (integer[]) | 複数選択。 |
| プロジェクトID | I/O | array (integer[]) | 複数選択。 |
| ステータス | I/O | enum | draft / scheduled / published / private |
| 公開日時 | I/O | datetime | 予約投稿に使用。 |
| サムネイル画像 | I/O | image file | Multipart/form-data または Base64。 |

### 3.2. コメント関連 (Input)

| データ項目 | フォーマット | 備考 |
| :--- | :--- | :--- |
| ゲスト名 | string | 任意。未入力時は「名無し」。 |
| コメント内容 | text | プレーンテキスト（要サニタイズ）。 |
| 記事ID | integer | 紐付け用。 |

### 3.3. クリエイター・アカウント関連 (Input)

| データ項目 | フォーマット | 備考 |
| :--- | :--- | :--- |
| ログインID | string | 半角英数字。 |
| パスワード | string | 送信時は平文(HTTPS)、DBはハッシュ。 |
| 表示名 | string | 画面に表示される名称。 |
| ロール | enum | admin / creator |
| プロフィール | text | Markdown または plane text。 |
